jQuery(document).ready(function($){var searchArray=[];var clickedValue;var searchString="";var searchStringSelects="";var searchStringText="";$.get({url:"/wp-admin/admin-ajax.php?action=getJoblist",async:true,contentType:"application/json",success:function(response){$(".joblistContainer").html(response)}});var table=$("#joblistTable").DataTable({responsive:true,fixedColumns:true,dom:"lrtip",columnDefs:[{targets:0,render:$.fn.dataTable.render.ellipsis(30)}],language:{sEmptyTable:"Keine Daten in der Tabelle vorhanden",sInfo:"_START_ bis _END_ von _TOTAL_ Einträgen",sInfoEmpty:"0 bis 0 von 0 Einträgen",sInfoFiltered:"(gefiltert von _MAX_ Einträgen)",sInfoPostFix:"",sInfoThousands:".",sLengthMenu:"_MENU_ Einträge anzeigen",sLoadingRecords:"Wird geladen...",sProcessing:"Bitte warten...",sSearch:"Suchen",sZeroRecords:"Keine Einträge vorhanden.",oPaginate:{sFirst:"Erste",sPrevious:"Zurück",sNext:"Nächste",sLast:"Letzte"},oAria:{sSortAscending:": aktivieren, um Spalte aufsteigend zu sortieren",sSortDescending:": aktivieren, um Spalte absteigend zu sortieren"}}});$(".dropdown dt a").on("click",function(){var id=$(this).data("id");$("#"+id+" dd ul").slideToggle("fast")});$(".dropdown dd ul li a").on("click",function(){var id=$(this).data("id");$("#"+id+" dd ul").hide()});$(document).bind("click",function(e){var $clicked=$(e.target);if(!$clicked.parents().hasClass("dropdown"))$(".dropdown dd ul").hide()});$('.dropdown input[type="checkbox"]').on("click",function(){var id=$(this).data("id");var value=$(this).closest(".multiSelect").find('input[type="checkbox"]').val(),value=$(this).val();var boxType=$(this).data("boxtype");searchArray.push($(this).val());if($(this).is(":checked")){clickedValue=value;var html='<span title="'+value+'">'+value+", </span>";$("#"+id+" .multiSel").append(html);$("#"+id+" .initialOption").hide()}else{clickedValue=value;$('span[title="'+value+'"]').remove();searchArray=searchArray.filter(function(value,index,arr){return value!==clickedValue});var ret=$("#"+id+" .initialOption");$("#"+id+" .dropdown dt a").append(ret)}setSearchString(value,false)});$("#position").on("keyup change",function(e){var value=$(this).val();setSearchString(value,true)});function setSearchString(value,searchState){if(value!==""&&searchState===false){if($("#position").val()!==""){searchStringText="("+$("#position").val()+")|"}searchStringSelects=searchArray.map(function(value){return"("+value+")"}).join("|")}if(searchState===true&&value!==""){searchStringText="("+value+")"}if(searchState===true&&value===""){searchStringText=""}searchString="("+searchStringText+searchStringSelects+")";searchString=searchString.replace(")|)","))");searchString=searchString.replace(")(",")|(");$("#searchPhrase").val(searchString);table.search(searchString,true).draw(true)}$("body").on("click","tr",function(){var link=$(this).data("link");window.open(link,"_self")})});